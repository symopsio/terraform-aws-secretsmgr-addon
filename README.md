# secretsmgr-addon

The `secretsmgr-addon` module adds AWS Secrets Manager access to a Sym runtime connector module.

This `Addon` will add a policy to the role generated by a `Connector`.

You typically include this `Addon` by adding `aws/secretsmgr` to the  `addons` property of the runtime  connector module, rather than referring to the policy ARN itself.

Secrets must be tagged with `${var.tag_name}=${var.environment}` in order to be accessible by this addon.

```hcl
module "runtime_connector" {
  source  = "symopsio/runtime-connector/sym"
  version = ">= 1.0.0"

  addons      = [ "aws/secretsmgr" ]
  environment = "sandbox"
}
```

Optionally override the default tag_name and value with `addon_params`:

```hcl
module "runtime_connector" {
  source  = "symopsio/runtime-connector/sym"
  version = ">= 1.0.0"

  addons      = [ "aws/secretsmgr" ]
  environment = "sandbox"

  // Optionally override the default tag_name and value with `addon_params`
  addon_params = {
    "aws/secretsmgr" = {
       "tag_name" = "CustomName",
       "tag_value = "CustomValue"
    }
  }
}
```
